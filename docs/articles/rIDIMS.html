<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Description and usage of rIDIMS • rIDIMS</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Description and usage of rIDIMS">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rIDIMS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.8.305</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/rIDIMS.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/BioinovarLab/rIDIMS/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Description and usage of rIDIMS</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/BioinovarLab/rIDIMS/blob/HEAD/vignettes/rIDIMS.Rmd" class="external-link"><code>vignettes/rIDIMS.Rmd</code></a></small>
      <div class="d-none name"><code>rIDIMS.Rmd</code></div>
    </div>

    
    
<p><strong>Last modified:</strong> 2024-08-07 21:18:22<br><strong>Compiled</strong>: Wed Aug 7 21:50:25 2024</p>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This document describes how to use the <strong>R</strong> package
<code>rIDIMS</code> for the analysis of direct-injection mass
spectrometry data.<br>
In this tutorial we will demonstrate the advantage of generating
in-silico replicas in cases of limited sample analysis. Often in real
analysis cases there is a physical size limitation or small sample
volumes, making it only feasible to perform one injection. In these
cases, it is interesting that there is a robust and reproducible
statistical process for obtaining representative scans of the analyzed
sample.</p>
</div>
<div class="section level2">
<h2 id="data-coffea-arabica-and-coffea-canephora-beans">Data: Coffea arabica and Coffea canephora Beans<a class="anchor" aria-label="anchor" href="#data-coffea-arabica-and-coffea-canephora-beans"></a>
</h2>
<p>We used the MasSpec pen coupled to a mass spectrometer (LTQ-XL,
Thermo Scientific) to quickly and directly analyze the chemical profiles
of coffee beans from 2 coffee species: Coffea arabica L. (arabica) and
Coffea canephora var. robust (robust). In summary, the dataset consists
of 64 files divided into the following categories: blank, Arabica coffee
and Robusta coffee.<br>
To demonstrate the usefulness of generating in-silico replicas, in this
example we will use only 3 mzML files representative of each
category.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>The package should be installed with the <code>pak</code> package. To
install <code>pak</code> use <code>install.packages("pak")</code>.<br>
After that install rIDIMS: <code>pak::install("xxxxx url ")</code></p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/BioinovarLab/rIDIMS" class="external-link">rIDIMS</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="data-prepare">Data prepare<a class="anchor" aria-label="anchor" href="#data-prepare"></a>
</h2>
<p>First create a folder for your project. In this case we will create
the <em>test_rIDIMS</em> folder.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">test.path</span> <span class="op">&lt;-</span> <span class="st">"C:/test_rIDIMS"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">test.path</span>, showWarnings <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>Now let’s move the coffee project files to the created folder.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata'</span>, package <span class="op">=</span> <span class="st">'rIDIMS'</span><span class="op">)</span>, </span>
<span>                     full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, <span class="va">test.path</span>, overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>With the mzML files in your project folder you don’t need to create
anything else manually. rIDIMS will now take care of creating the
spreadsheet with sample information and general processing.</p>
</div>
<div class="section level2">
<h2 id="run-ridims">Run rIDIMS<a class="anchor" aria-label="anchor" href="#run-ridims"></a>
</h2>
<p>To open rIDIMS, enter the command below and wait for the application
to load.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">rIDIMS</span><span class="fu">::</span><span class="fu"><a href="../reference/start_rIDIMS.html">start_rIDIMS</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>After loading, the following screen should appear</p>
<p><img src="../reference/figures/screen_1.png" width="100%"></p>
<p>The application window is divided into two parts, on the left side we
have the parameters that must be used in data processing. While on the
right side we have sample information.<br>
In the “Spectra files directory” field, enter the path of your project
folder. In this case <em>C:/test_rIDIMS</em>, then click the button
“Make information file”.</p>
</div>
<div class="section level2">
<h2 id="information-file">Information file<a class="anchor" aria-label="anchor" href="#information-file"></a>
</h2>
<p>After clicking the button, wait for the <em>samples.info.xlsx</em>
file to be created automatically in your project folder. It will open
with your system’s native program for .xlsx files. The following screen
is expected.</p>
<p><img src="../reference/figures/screen_2.png" width="100%"></p>
<p>Now fill in according to the replicas and classes of your samples. In
this case we only have 3 cases: blank, arabica and canephora. It is
important that the codes used for replicas of different classes are not
the same. Always use distinct replica codes.</p>
<p><img src="../reference/figures/screen_3.png" width="100%"></p>
<p>Once this is done, close the editor program and you will be ready to
load the data into the application. Click on the “Open information file”
button and wait for the data to load. The following screen should
appear.</p>
<p><img src="../reference/figures/screen_4.png" width="100%"></p>
<p>After checking the sample information and configuring the parameters
for processing, everything is ready to go. start the process. To do
this, click on the button below “Start process!”.<br>
You can monitor the status of the process through a log file (.txt) that
is generated in the project folder.<br>
Wait for the processing to finish and the report to be generated.</p>
</div>
<div class="section level2">
<h2 id="analyzing-the-report">Analyzing the report<a class="anchor" aria-label="anchor" href="#analyzing-the-report"></a>
</h2>
<p>At the end of the process, the message displays the HTML report path.
If the report does not open automatically, go to the project folder and
open it manually.</p>
<p>O relatório começa mostrando os principais parâmetros do
processamento, sendo que a lista total dos parâmetros está no final do
arquivo log. Depois mostra como foi a seleção dos scans das amostras
exibindo o processo de seleção de scans com base na intensidade e depois
a distribuição dos mesmos no conjunto de 3 réplicas. Abaixo pode-se ver
o chronogram bruto da amostra CA.</p>
<p><img src="../reference/figures/screen_6.png" width="100%"></p>
<p>Note que a seleção não segue um padrão estátisco pois ela é feita de
maneira dinâmica para gerar um conjunto de amostras que não tenha
diferença estatística entre sí. Mais detalhes sobre esse algoritmo pode
ser encontrado no artigo da publicação. A distribuição dos scans pode
ser visualizada abaixo no chronogram através das cores de cada
réplica.</p>
<p><img src="../reference/figures/screen_7.png" width="100%"></p>
<p>Depois se inicia o processamento das amostras seguindo as seguintes
etapas:</p>
<ul>
<li>Evaluate features of replicates</li>
<li>Subtraction of blank (or other) class</li>
<li>Filter samples</li>
</ul>
<p>O efeito destas etapas pode ser visualizado através da análise de
Principal component analysis (PCA) de antes e depois. Abaixo pode-se
visualizar o PCA das amostras antes do processamento.</p>
<p><img src="../reference/figures/screen_8.png" width="100%"></p>
<p>E abaixo o PCA após o processamento.</p>
<p><img src="../reference/figures/screen_9.png" width="100%"></p>
<p>As análises geram um relatório e log com nomes específicos (data e
hora), assim você pode testar diversos parâmetros diferentes e depois
avaliar o desempenho comparando os arquivos gerados.<br>
Cada etapa de processamento gera um arquivo .csv com o dataset da etapa
formatado para ser utilizado como input no MetaboAnalyst (<a href="https://www.metaboanalyst.ca/" class="external-link uri">https://www.metaboanalyst.ca/</a>) diretamente. Assim, você
pode avaliar de forma independete o efeito de cada etapa de maneira
rápida e fácil.</p>
<p><img src="../reference/figures/screen_10.png" width="100%"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Felipe Mansoldo, Iasmim Lopes.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
